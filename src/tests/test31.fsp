//GenBuf example taken from Synthesis of Reactive(1) Designs 4 senders
set Global_Alphabet = {}
set Controllable_Alphabet = {}

set Global_Signals	= {sToB_REQ_0, sToB_REQ_1, sToB_REQ_2, sToB_REQ_3, bToS_ACK_0, bToS_ACK_1, bToS_ACK_2, bToS_ACK_3, bToR_REQ_0, bToR_REQ_1, rToB_ACK_0, rToB_ACK_1, ENQ, DEQ, FULL, EMPTY, SLC_0, SLC_1}
set Output_Signals	= {bToS_ACK_0, bToS_ACK_1, bToS_ACK_2, bToS_ACK_3, bToR_REQ_0, bToR_REQ_1, ENQ, DEQ}

//G_7 was turned into an automaton
G_7_ROUND_ROBIN	= (bToR_REQ_0.on -> bToR_REQ_1.on -> G_7_ROUND_ROBIN).

ltl env theta Init_Buffer_e in GENBUF	= (!sToB_REQ_0 && !sToB_REQ_1 && !sToB_REQ_2 && !sToB_REQ_3 && !rToB_ACK_0 && !rToB_ACK_1 && !FULL && EMPTY).
ltl sys theta Init_Buffer_s in GENBUF	= (!bToS_ACK_0 && !bToS_ACK_1 && !bToS_ACK_2 && !bToS_ACK_3 && !bToR_REQ_0 && !bToR_REQ_1 && !ENQ && !DEQ).
ltl sys rho G_3_sndr_0 in GENBUF		= []((!bToS_ACK_0 && X(bToS_ACK_0)) -> sToB_REQ_0).
ltl sys rho G_3_sndr_1 in GENBUF		= []((!bToS_ACK_1 && X(bToS_ACK_1)) -> sToB_REQ_1).
ltl sys rho G_3_sndr_2 in GENBUF		= []((!bToS_ACK_2 && X(bToS_ACK_2)) -> sToB_REQ_2).
ltl sys rho G_3_sndr_3 in GENBUF		= []((!bToS_ACK_3 && X(bToS_ACK_3)) -> sToB_REQ_3).
ltl sys rho G_4_sndr_0 in GENBUF		= []((bToS_ACK_0 && sToB_REQ_0) -> X(bToS_ACK_0)).
ltl sys rho G_4_sndr_1 in GENBUF		= []((bToS_ACK_1 && sToB_REQ_1) -> X(bToS_ACK_1)).
ltl sys rho G_4_sndr_2 in GENBUF		= []((bToS_ACK_2 && sToB_REQ_2) -> X(bToS_ACK_2)).
ltl sys rho G_4_sndr_3 in GENBUF		= []((bToS_ACK_3 && sToB_REQ_3) -> X(bToS_ACK_3)).
ltl env rho A_1_1_sndr_0 in GENBUF		= []((sToB_REQ_0 && !bToS_ACK_0) -> X(sToB_REQ_0)).
ltl env rho A_1_1_sndr_1 in GENBUF		= []((sToB_REQ_1 && !bToS_ACK_1) -> X(sToB_REQ_1)).
ltl env rho A_1_1_sndr_2 in GENBUF		= []((sToB_REQ_2 && !bToS_ACK_2) -> X(sToB_REQ_2)).
ltl env rho A_1_1_sndr_3 in GENBUF		= []((sToB_REQ_3 && !bToS_ACK_3) -> X(sToB_REQ_3)).
ltl env rho A_1_2_sndr_0 in GENBUF		= [](bToS_ACK_0 -> X(!sToB_REQ_0)).
ltl env rho A_1_2_sndr_1 in GENBUF		= [](bToS_ACK_0 -> X(!sToB_REQ_1)).
ltl env rho A_1_2_sndr_2 in GENBUF		= [](bToS_ACK_0 -> X(!sToB_REQ_2)).
ltl env rho A_1_2_sndr_3 in GENBUF		= [](bToS_ACK_0 -> X(!sToB_REQ_3)).
ltl sys rho G_5 in GENBUF				= [](!(bToS_ACK_0 && bToS_ACK_1) && !(bToS_ACK_0 && bToS_ACK_2) &&  && !(bToS_ACK_0 && bToS_ACK_3) &&  && !(bToS_ACK_1 && bToS_ACK_2) &&  && !(bToS_ACK_1 && bToS_ACK_3) &&  && !(bToS_ACK_2 && bToS_ACK_3)).
ltl env rho A_3_rcvr_0 in GENBUF		= []((bToR_REQ_0 && rToB_ACK_0) -> X(rToB_ACK_0)).
ltl env rho A_3_rcvr_1 in GENBUF		= []((bToR_REQ_1 && rToB_ACK_1) -> X(rToB_ACK_1)).
ltl env rho A_4_rcvr_0 in GENBUF		= [](X(rToB_ACK_0)->bToR_REQ_0).
ltl env rho A_4_rcvr_1 in GENBUF		= [](X(rToB_ACK_1) -> bToR_REQ_1).
ltl sys rho G_6_1_rcvr_0 in GENBUF		= []((bToR_REQ_0 && !rToB_ACK_0) -> X(bToR_REQ_0)).
ltl sys rho G_6_1_rcvr_1 in GENBUF		= []((bToR_REQ_1 && !rToB_ACK_1) -> X(bToR_REQ_1)).
ltl sys rho G_6_2_rcvr_0 in GENBUF		= [](rToB_ACK_0 -> X(!bToR_REQ_0)).
ltl sys rho G_6_2_rcvr_1 in GENBUF		= [](rToB_ACK_1 -> X(!bToR_REQ_1)).
ltl sys rho G_8_rcvr_0 in GENBUF		= [](rToB_ACK_0 -> X(!bToR_REQ_0)).
ltl sys rho G_8_rcvr_1 in GENBUF		= [](rToB_ACK_1 -> X(!bToR_REQ_1)).
ltl sys rho G_9_1 in GENBUF				= [](X(ENQ) <-> ((!bToS_ACK_0 && X(bToS_ACK_0)) || (!bToS_ACK_1 && X(bToS_ACK_1)) || (!bToS_ACK_2 && X(bToS_ACK_2)) || (!bToS_ACK_3 && X(bToS_ACK_3)))).
ltl sys rho G_9_2 in GENBUF				= [](((!bToS_ACK_0 && X(bToS_ACK_0)) -> (!X(SLC_0) && !X(SLC_1)) && ((!bToS_ACK_1 && X(bToS_ACK_1)) -> (X(SLC_0) && !X(SLC_1)) && ((!bToS_ACK_2 && X(bToS_ACK_2)) -> (!X(SLC_0) && X(SLC_1)) && ((!bToS_ACK_3 && X(bToS_ACK_3)) -> (X(SLC_0) && X(SLC_1))).
ltl sys rho G_10 in GENBUF				= [](X(DEQ) -> ((!X(rToB_ACK_0) && rToB_ACK_0) || (!X(rToB_ACK_1) && rToB_ACK_1))).
ltl sys rho G_11_1 in GENBUF			= []((FULL && !DEQ)-> !ENQ).
ltl sys rho G_11_2 in GENBUF			= [](EMPTY-> !DEQ).
ltl env rho A_5_1 in GENBUF				= []((DEQ <-> ENQ) -> (EMPTY && !X(EMPTY))).
ltl env rho A_5_2 in GENBUF				= []((DEQ <-> ENQ) -> (FULL && !X(FULL))).
ltl env rho A_5_3 in GENBUF				= []((ENQ && !DEQ) -> !X(EMPTY)).
ltl env rho A_5_4 in GENBUF				= []((DEQ && !ENQ) -> !X(FULL)).
ltl env rho A_13 in GENBUF				= []((!FULL && (sToB_REQ_0 || sToB_REQ_1 || sToB_REQ_2 || sToB_REQ_3)) -> (ENQ || !X(ENQ))).

//G_12 was turned into a fluent
fluent F_Goal_12 = <DEQ.on, EMPTY.off> initially 1

ltl fluent G_1_2_sndr_0		= (sToB_REQ_0 <-> bToS_ACK_0).
ltl fluent G_1_2_sndr_1		= (sToB_REQ_1 <-> bToS_ACK_1).
ltl fluent G_1_2_sndr_2		= (sToB_REQ_2 <-> bToS_ACK_2).
ltl fluent G_1_2_sndr_3		= (sToB_REQ_3 <-> bToS_ACK_3).
ltl fluent A_2_sndr_0		= (bToR_REQ_0 <-> rToB_ACK_0).
ltl fluent A_2_sndr_1		= (bToR_REQ_1 <-> rToB_ACK_1).
ltl fluent A_2_sndr_2		= (bToR_REQ_2 <-> rToB_ACK_2).
ltl fluent A_2_sndr_3		= (bToR_REQ_3 <-> rToB_ACK_3).


|f| ENV =(GENBUF ||_c G_7_ROUND_ROBIN).
|gr1| <{A_2_sndr_0, A_2_sndr_1, A_2_sndr_2, A_2_sndr_3}><{F_Goal_12, G_1_2_sndr_0, G_1_2_sndr_1, G_1_2_sndr_2, G_1_2_sndr_3}> STRAT = ENV.

