const N = 2
const K = 2

range R_N  = 0..(N-1)
range R_K = 0..(N-1)

/*****************************************************************************/
set Global_Alphabet = {request[n:R_N][k:R_K],grant[n:R_N][k:R_K],idle[n:R_N]}
set Controllable_Alphabet = {grant[n:R_N][k:R_K]}


CLIENT[n:R_N] = (request[n][k:R_K]-> grant[n][k] ->CLIENT[n] | idle[n] -> CLIENT[n]).
SERVER[n:R_N] = (request[n][k:R_K]-> grant[n][k] -> SERVER[n]).


||CLIENTS = (CLIENT[n:R_N]).
||SERVERS = (SERVER[n:R_N]).

||SERVERS_C = (SERVER[n:R_N]_c).
||Plant = (CLIENTS || SERVERS).
|F|ENV = (Plant).

fluent ASSUMPTION[n:R_N][k:R_K] = <request[n][k], idle[n]>
fluent GOAL[n:R_N][k:R_K] = <grant[n][k], idle[n]>

|gr1| <{ASSUMPTION[n:R_N][k:R_K]}><{GOAL[n:R_N][k:R_K]}>  STRAT = ENV.


CLIENT_0 >> "/tmp/ranges_7_client_0.rep".
SERVER_1 >> "/tmp/ranges_7_server_1.rep".
CLIENTS >> "/tmp/ranges_7_clients.rep".
SERVERS >> "/tmp/ranges_7_servers.rep".
SERVERS_C >> "/tmp/ranges_7_servers_c.rep".
ENV >> "/tmp/ranges_7_env.rep".
STRAT >> "/tmp/ranges_7_strat.rep".

CLIENTS_P = S_0,
S_0 = (request_1_0-> S_1|request_1_1-> S_2|idle_1-> S_0|request_0_0-> S_3|request_0_1-> S_4|idle_0-> S_0),
S_1 = (grant_1_0-> S_0|request_0_0-> S_7|request_0_1-> S_5|idle_0-> S_1),S_2 = (grant_1_1-> S_0|request_0_0-> S_8|request_0_1-> S_6|idle_0-> S_2),
S_3 = (request_1_0-> S_7|request_1_1-> S_8|idle_1-> S_3|grant_0_0-> S_0),S_4 = (request_1_0-> S_5|request_1_1-> S_6|idle_1-> S_4|grant_0_1-> S_0),
S_5 = (grant_1_0-> S_4|grant_0_1-> S_1),S_6 = (grant_1_1-> S_4|grant_0_1-> S_2),S_7 = (grant_1_0-> S_3|grant_0_0-> S_1),
S_8 = (grant_1_1-> S_3|grant_0_0-> S_2).

STRAT_P= S_0,
S_0 = (idle_0-> S_0|idle_1-> S_0|request_0_0-> S_1|request_0_1-> S_2|request_1_0-> S_3|request_1_1-> S_4),
S_1 = (idle_1-> S_1|request_1_0-> S_5|request_1_1-> S_7),
S_2 = (idle_1-> S_2|request_1_0-> S_6|request_1_1-> S_8),
S_3 = (idle_0-> S_3|request_0_0-> S_5|request_0_1-> S_6),
S_4 = (idle_0-> S_4|request_0_0-> S_7|request_0_1-> S_8),
S_5 = (grant_0_0-> S_181),
S_6 = (grant_1_0-> S_9),
S_7 = (grant_0_0-> S_183),
S_8 = (grant_1_1-> S_10),
S_9 = (idle_1-> S_2|request_1_0-> S_148|request_1_1-> S_150),
S_10 = (idle_1-> S_2|request_1_0-> S_35|request_1_1-> S_37),
S_13 = (grant_0_0-> S_104),
S_14 = (grant_1_0-> S_20),
S_16 = (grant_0_0-> S_106),
S_17 = (grant_1_1-> S_21),
S_18 = (idle_1-> S_18|request_1_0-> S_13|request_1_1-> S_16),
S_19 = (idle_1-> S_19|request_1_0-> S_14|request_1_1-> S_17),
S_20 = (idle_1-> S_19|request_1_0-> S_155|request_1_1-> S_158),
S_21 = (idle_1-> S_19|request_1_0-> S_22|request_1_1-> S_23),
S_22 = (grant_1_0-> S_24),
S_23 = (grant_1_1-> S_21),
S_24 = (idle_1-> S_19|request_1_0-> S_46|request_1_1-> S_50),
S_28 = (grant_0_0-> S_122),
S_31 = (grant_0_0-> S_124),
S_34 = (grant_0_0-> S_198),
S_35 = (grant_1_0-> S_39),
S_36 = (grant_0_0-> S_199),
S_37 = (grant_1_1-> S_10),
S_39 = (idle_1-> S_2|request_1_0-> S_40|request_1_1-> S_41),
S_40 = (grant_1_0-> S_39),
S_41 = (grant_1_1-> S_39),
S_44 = (idle_0-> S_44|request_0_0-> S_53|request_0_1-> S_40),
S_45 = (grant_0_0-> S_76),
S_46 = (grant_1_0-> S_24),
S_48 = (idle_0-> S_48|request_0_0-> S_54|request_0_1-> S_41),
S_49 = (grant_0_0-> S_78),
S_50 = (grant_1_1-> S_24),
S_53 = (grant_0_0-> S_56),
S_54 = (grant_0_0-> S_57),
S_56 = (idle_0-> S_59|request_0_0-> S_61|request_0_1-> S_63),
S_57 = (idle_0-> S_64|request_0_0-> S_66|request_0_1-> S_68),
S_59 = (idle_0-> S_59|request_0_0-> S_273|request_0_1-> S_256),
S_61 = (grant_0_0-> S_202),
S_63 = (grant_0_1-> S_77),
S_64 = (idle_0-> S_64|request_0_0-> S_274|request_0_1-> S_257),
S_66 = (grant_0_0-> S_203),
S_68 = (grant_0_1-> S_79),
S_76 = (idle_0-> S_59|request_0_0-> S_86|request_0_1-> S_88),
S_77 = (idle_0-> S_261|request_0_0-> S_281|request_0_1-> S_282),
S_78 = (idle_0-> S_64|request_0_0-> S_90|request_0_1-> S_92),
S_79 = (idle_0-> S_266|request_0_0-> S_283|request_0_1-> S_284),
S_81 = (grant_0_1-> S_105),
S_83 = (grant_0_1-> S_107),
S_85 = (grant_0_0-> S_77),
S_86 = (grant_0_0-> S_290),
S_87 = (grant_0_1-> S_77),
S_88 = (grant_0_1-> S_290),
S_89 = (grant_0_0-> S_79),
S_90 = (grant_0_0-> S_291),
S_91 = (grant_0_1-> S_79),
S_92 = (grant_0_1-> S_291),
S_95 = (idle_1-> S_96|request_1_0-> S_127|request_1_1-> S_115),
S_96 = (idle_1-> S_287|request_1_0-> S_307|request_1_1-> S_300),
S_98 = (idle_1-> S_99|request_1_0-> S_101|request_1_1-> S_103),
S_99 = (idle_1-> S_289|request_1_0-> S_292|request_1_1-> S_293),
S_101 = (grant_1_0-> S_295),
S_103 = (grant_0_1-> S_296),
S_104 = (idle_0-> S_133|request_0_0-> S_127|request_0_1-> S_101),
S_105 = (idle_0-> S_214|request_0_0-> S_307|request_0_1-> S_292),
S_106 = (idle_0-> S_113|request_0_0-> S_115|request_0_1-> S_103),
S_107 = (idle_0-> S_219|request_0_0-> S_300|request_0_1-> S_293),
S_109 = (grant_0_1-> S_123),
S_110 = (grant_1_0-> S_346),
S_111 = (grant_0_1-> S_125),
S_112 = (grant_0_1-> S_306),
S_113 = (idle_0-> S_113|request_0_0-> S_209|request_0_1-> S_210),
S_115 = (grant_0_0-> S_296),
S_118 = (grant_0_0-> S_123),
S_119 = (grant_1_0-> S_305),
S_120 = (grant_0_0-> S_125),
S_121 = (grant_0_0-> S_306),
S_122 = (idle_0-> S_197|request_0_0-> S_119|request_0_1-> S_110),
S_123 = (idle_0-> S_240|request_0_0-> S_303|request_0_1-> S_298),
S_124 = (idle_0-> S_196|request_0_0-> S_121|request_0_1-> S_112),
S_125 = (idle_0-> S_244|request_0_0-> S_304|request_0_1-> S_299),
S_127 = (grant_1_0-> S_309),
S_133 = (idle_0-> S_133|request_0_0-> S_207|request_0_1-> S_208),
S_148 = (grant_1_0-> S_9),
S_150 = (grant_1_1-> S_39),
S_155 = (grant_1_0-> S_20),
S_158 = (grant_1_1-> S_24),
S_178 = (grant_0_0-> S_182),
S_180 = (grant_0_0-> S_184),
S_181 = (idle_0-> S_133|request_0_0-> S_178|request_0_1-> S_81),
S_182 = (idle_0-> S_133|request_0_0-> S_178|request_0_1-> S_81),
S_183 = (idle_0-> S_113|request_0_0-> S_180|request_0_1-> S_83),
S_184 = (idle_0-> S_113|request_0_0-> S_180|request_0_1-> S_83),
S_187 = (grant_0_0-> S_201),
S_189 = (grant_0_0-> S_200),
S_193 = (grant_0_1-> S_123),
S_195 = (grant_0_1-> S_125),
S_196 = (idle_0-> S_196|request_0_0-> S_251|request_0_1-> S_252),
S_197 = (idle_0-> S_197|request_0_0-> S_249|request_0_1-> S_250),
S_198 = (idle_0-> S_197|request_0_0-> S_187|request_0_1-> S_193),
S_199 = (idle_0-> S_196|request_0_0-> S_189|request_0_1-> S_195),
S_200 = (idle_0-> S_196|request_0_0-> S_189|request_0_1-> S_195),
S_201 = (idle_0-> S_197|request_0_0-> S_187|request_0_1-> S_193),
S_202 = (idle_0-> S_59|request_0_0-> S_61|request_0_1-> S_63),
S_203 = (idle_0-> S_64|request_0_0-> S_66|request_0_1-> S_68),
S_207 = (grant_0_0-> S_182),
S_208 = (grant_0_1-> S_211),
S_209 = (grant_0_0-> S_184),
S_210 = (grant_0_1-> S_212),
S_211 = (idle_0-> S_214|request_0_0-> S_216|request_0_1-> S_218),
S_212 = (idle_0-> S_219|request_0_0-> S_221|request_0_1-> S_223),
S_214 = (idle_0-> S_214|request_0_0-> S_354|request_0_1-> S_355),
S_216 = (grant_1_0-> S_350),
S_218 = (grant_1_0-> S_229),
S_219 = (idle_0-> S_219|request_0_0-> S_356|request_0_1-> S_357),
S_221 = (grant_0_0-> S_296),
S_223 = (grant_1_1-> S_231),
S_227 = (idle_1-> S_227|request_1_0-> S_218|request_1_1-> S_223),
S_229 = (idle_1-> S_389|request_1_0-> S_454|request_1_1-> S_456),
S_231 = (idle_1-> S_227|request_1_0-> S_233|request_1_1-> S_235),
S_233 = (grant_1_0-> S_237),
S_235 = (grant_1_1-> S_231),
S_237 = (idle_1-> S_389|request_1_0-> S_384|request_1_1-> S_387),
S_239 = (idle_0-> S_240|request_0_0-> S_242|request_0_1-> S_233),
S_240 = (idle_0-> S_240|request_0_0-> S_368|request_0_1-> S_369),
S_242 = (grant_1_0-> S_349),
S_243 = (idle_0-> S_244|request_0_0-> S_246|request_0_1-> S_235),
S_244 = (idle_0-> S_244|request_0_0-> S_370|request_0_1-> S_371),
S_246 = (grant_0_0-> S_306),
S_249 = (grant_0_0-> S_201),
S_250 = (grant_0_1-> S_239),
S_251 = (grant_0_0-> S_200),
S_252 = (grant_0_1-> S_243),
S_256 = (grant_0_1-> S_258),
S_257 = (grant_0_1-> S_259),
S_258 = (idle_0-> S_261|request_0_0-> S_263|request_0_1-> S_265),
S_259 = (idle_0-> S_266|request_0_0-> S_268|request_0_1-> S_270),
S_261 = (idle_0-> S_382|request_0_0-> S_392|request_0_1-> S_376),
S_263 = (grant_0_0-> S_417),
S_265 = (grant_0_1-> S_379),
S_266 = (idle_0-> S_385|request_0_0-> S_394|request_0_1-> S_378),
S_268 = (grant_0_0-> S_418),
S_270 = (grant_0_1-> S_380),
S_273 = (grant_0_0-> S_202),
S_274 = (grant_0_0-> S_203),
S_281 = (grant_0_0-> S_417),
S_282 = (grant_0_1-> S_417),
S_283 = (grant_0_0-> S_418),
S_284 = (grant_0_1-> S_418),
S_287 = (idle_1-> S_287|request_1_0-> S_307|request_1_1-> S_300),
S_289 = (idle_1-> S_289|request_1_0-> S_292|request_1_1-> S_293),
S_290 = (idle_0-> S_382|request_0_0-> S_422|request_0_1-> S_423),
S_291 = (idle_0-> S_385|request_0_0-> S_424|request_0_1-> S_425),
S_292 = (grant_1_0-> S_295),
S_293 = (grant_0_1-> S_296),
S_295 = (idle_1-> S_428|request_1_0-> S_437|request_1_1-> S_439),
S_296 = (idle_0-> S_219|request_0_0-> S_300|request_0_1-> S_293),
S_298 = (grant_1_0-> S_346),
S_299 = (grant_0_1-> S_306),
S_300 = (grant_0_0-> S_296),
S_303 = (grant_1_0-> S_305),
S_304 = (grant_0_0-> S_306),
S_305 = (idle_1-> S_427|request_1_0-> S_422|request_1_1-> S_424),
S_306 = (idle_0-> S_244|request_0_0-> S_304|request_0_1-> S_299),
S_307 = (grant_1_0-> S_309),
S_309 = (idle_1-> S_427|request_1_0-> S_432|request_1_1-> S_433),
S_346 = (idle_1-> S_428|request_1_0-> S_423|request_1_1-> S_425),
S_349 = (idle_1-> S_388|request_1_0-> S_383|request_1_1-> S_386),
S_350 = (idle_1-> S_388|request_1_0-> S_453|request_1_1-> S_455),
S_352 = (idle_1-> S_352|request_1_0-> S_354|request_1_1-> S_356),
S_353 = (idle_1-> S_353|request_1_0-> S_355|request_1_1-> S_357),
S_354 = (grant_1_0-> S_449),
S_355 = (grant_1_0-> S_358),
S_356 = (grant_1_1-> S_372),
S_357 = (grant_1_1-> S_359),
S_358 = (idle_1-> S_374|request_1_0-> S_444|request_1_1-> S_448),
S_359 = (idle_1-> S_353|request_1_0-> S_369|request_1_1-> S_371),
S_368 = (grant_1_0-> S_395),
S_369 = (grant_1_0-> S_373),
S_370 = (grant_1_1-> S_372),
S_371 = (grant_1_1-> S_359),
S_372 = (idle_1-> S_352|request_1_0-> S_368|request_1_1-> S_370),
S_373 = (idle_1-> S_374|request_1_0-> S_376|request_1_1-> S_378),
S_374 = (idle_1-> S_374|request_1_0-> S_499|request_1_1-> S_501),
S_376 = (grant_1_0-> S_39),
S_378 = (grant_1_1-> S_39),
S_379 = (idle_0-> S_44|request_0_0-> S_45|request_0_1-> S_46),
S_380 = (idle_0-> S_48|request_0_0-> S_49|request_0_1-> S_50),
S_382 = (idle_0-> S_44|request_0_0-> S_53|request_0_1-> S_40),
S_383 = (grant_0_0-> S_76),
S_384 = (grant_1_0-> S_24),
S_385 = (idle_0-> S_48|request_0_0-> S_54|request_0_1-> S_41),
S_386 = (grant_0_0-> S_78),
S_387 = (grant_1_1-> S_24),
S_388 = (idle_1-> S_388|request_1_0-> S_505|request_1_1-> S_508),
S_389 = (idle_1-> S_389|request_1_0-> S_506|request_1_1-> S_509),
S_392 = (grant_0_0-> S_56),
S_394 = (grant_0_0-> S_57),
S_395 = (idle_1-> S_396|request_1_0-> S_392|request_1_1-> S_394),
S_396 = (idle_1-> S_396|request_1_0-> S_498|request_1_1-> S_500),
S_417 = (idle_0-> S_44|request_0_0-> S_85|request_0_1-> S_87),
S_418 = (idle_0-> S_48|request_0_0-> S_89|request_0_1-> S_91),
S_422 = (grant_0_0-> S_76),
S_423 = (grant_0_1-> S_76),
S_424 = (grant_0_0-> S_78),
S_425 = (grant_0_1-> S_78),
S_427 = (idle_1-> S_427|request_1_0-> S_549|request_1_1-> S_542),
S_428 = (idle_1-> S_428|request_1_0-> S_535|request_1_1-> S_536),
S_432 = (grant_0_0-> S_459),
S_433 = (grant_1_1-> S_494),
S_436 = (idle_0-> S_436|request_0_0-> S_442|request_0_1-> S_444),
S_437 = (grant_0_1-> S_459),
S_439 = (grant_1_1-> S_493),
S_442 = (grant_1_0-> S_461),
S_444 = (grant_1_0-> S_450),
S_446 = (grant_1_1-> S_462),
S_448 = (grant_1_1-> S_451),
S_449 = (idle_1-> S_396|request_1_0-> S_442|request_1_1-> S_446),
S_450 = (idle_1-> S_374|request_1_0-> S_444|request_1_1-> S_448),
S_451 = (idle_1-> S_2|request_1_0-> S_40|request_1_1-> S_41),
S_453 = (grant_0_0-> S_459),
S_454 = (grant_1_0-> S_457),
S_455 = (grant_1_1-> S_460),
S_456 = (grant_1_1-> S_458),
S_457 = (idle_1-> S_389|request_1_0-> S_454|request_1_1-> S_456),
S_458 = (idle_1-> S_19|request_1_0-> S_46|request_1_1-> S_50),
S_459 = (idle_0-> S_436|request_0_0-> S_432|request_0_1-> S_437),
S_460 = (idle_1-> S_18|request_1_0-> S_45|request_1_1-> S_49),
S_461 = (idle_1-> S_396|request_1_0-> S_442|request_1_1-> S_446),
S_462 = (idle_1-> S_1|request_1_0-> S_53|request_1_1-> S_54),
S_493 = (idle_1-> S_98|request_1_0-> S_87|request_1_1-> S_91),
S_494 = (idle_1-> S_95|request_1_0-> S_85|request_1_1-> S_89),
S_496 = (idle_0-> S_496|request_0_0-> S_498|request_0_1-> S_499),
S_498 = (grant_1_0-> S_461),
S_499 = (grant_1_0-> S_450),
S_500 = (grant_1_1-> S_526),
S_501 = (grant_1_1-> S_502),
S_502 = (idle_1-> S_2|request_1_0-> S_35|request_1_1-> S_37),
S_505 = (grant_0_0-> S_537),
S_506 = (grant_1_0-> S_457),
S_508 = (grant_1_1-> S_520),
S_509 = (grant_1_1-> S_510),
S_510 = (idle_1-> S_19|request_1_0-> S_22|request_1_1-> S_23),
S_520 = (idle_1-> S_18|request_1_0-> S_28|request_1_1-> S_31),
S_526 = (idle_1-> S_1|request_1_0-> S_34|request_1_1-> S_36),
S_535 = (grant_0_1-> S_537),
S_536 = (grant_1_1-> S_538),
S_537 = (idle_0-> S_496|request_0_0-> S_549|request_0_1-> S_535),
S_538 = (idle_1-> S_98|request_1_0-> S_109|request_1_1-> S_111),
S_542 = (grant_1_1-> S_544),
S_544 = (idle_1-> S_95|request_1_0-> S_118|request_1_1-> S_120),
S_549 = (grant_0_0-> S_537).

SERVERS_C_P = S_0,
S_0 = (request_1_0-> S_1|request_1_1-> S_2|request_0_0-> S_3|<request_0_0,request_1_0>-> S_4|<request_0_0,request_1_1>-> S_5|request_0_1-> S_6|<request_0_1,request_1_0>-> S_7|<request_0_1,request_1_1>-> S_8),
S_1 = (grant_1_0-> S_0|request_0_0-> S_4|<grant_1_0,request_0_0>-> S_3|request_0_1-> S_7|<grant_1_0,request_0_1>-> S_6),
S_2 = (grant_1_1-> S_0|request_0_0-> S_5|<grant_1_1,request_0_0>-> S_3|request_0_1-> S_8|<grant_1_1,request_0_1>-> S_6),
S_3 = (request_1_0-> S_4|request_1_1-> S_5|grant_0_0-> S_0|<grant_0_0,request_1_0>-> S_1|<grant_0_0,request_1_1>-> S_2),
S_4 = (grant_1_0-> S_3|grant_0_0-> S_1|<grant_0_0,grant_1_0>-> S_0),S_5 = (grant_1_1-> S_3|grant_0_0-> S_2|<grant_0_0,grant_1_1>-> S_0),
S_6 = (request_1_0-> S_7|request_1_1-> S_8|grant_0_1-> S_0|<grant_0_1,request_1_0>-> S_1|<grant_0_1,request_1_1>-> S_2),
S_7 = (grant_1_0-> S_6|grant_0_1-> S_1|<grant_0_1,grant_1_0>-> S_0),S_8 = (grant_1_1-> S_6|grant_0_1-> S_2|<grant_0_1,grant_1_1>-> S_0).

equals FATAL_RANGE_7_STRAT(STRAT, STRAT_P).
equals FATAL_RANGE_7_CLIENTS(CLIENTS, CLIENTS_P).
equals FATAL_RANGE_7_SERVERS_C(SERVERS_C, SERVERS_C_P).



