const N = 2
const K = 2

range R_N  = 0..(N-1)
range R_K = 0..(N-1)

/*****************************************************************************/
set Global_Alphabet = {request[n:R_N][k:R_K],grant[n:R_N][k:R_K],idle[n:R_N]}
set Controllable_Alphabet = {grant[n:R_N][k:R_K]}


CLIENT[n:R_N] = (request[n][k:R_K]-> grant[n][k] ->CLIENT[n] | idle[n] -> CLIENT[n]).
SERVER[n:R_N] = (request[n][k:R_K]-> grant[n][k] -> SERVER[n]).


||CLIENTS = (CLIENT[n:R_N]).
||SERVERS = (SERVER[n:R_N]).

||SERVERS_C = (SERVER[n:R_N]_c).
||Plant = (CLIENTS || SERVERS).
|F|ENV = (Plant).

fluent ASSUMPTION[n:R_N][k:R_K] = <request[n][k], idle[n]>
fluent GOAL[n:R_N][k:R_K] = <grant[n][k], idle[n]>

|gr1| <{ASSUMPTION[n:R_N][k:R_K]}><{GOAL[n:R_N][k:R_K]}>  STRAT = ENV.


CLIENT_0 >> "/tmp/ranges_7_client_0.rep".
SERVER_1 >> "/tmp/ranges_7_server_1.rep".
CLIENTS >> "/tmp/ranges_7_clients.rep".
SERVERS >> "/tmp/ranges_7_servers.rep".
SERVERS_C >> "/tmp/ranges_7_servers_c.rep".
ENV >> "/tmp/ranges_7_env.rep".
STRAT >> "/tmp/ranges_7_strat.rep".

CLIENTS_P = S_0,
S_0 = (request_1_0-> S_1|request_1_1-> S_2|idle_1-> S_0|request_0_0-> S_3|request_0_1-> S_4|idle_0-> S_0),
S_1 = (grant_1_0-> S_0|request_0_0-> S_7|request_0_1-> S_5|idle_0-> S_1),S_2 = (grant_1_1-> S_0|request_0_0-> S_8|request_0_1-> S_6|idle_0-> S_2),
S_3 = (request_1_0-> S_7|request_1_1-> S_8|idle_1-> S_3|grant_0_0-> S_0),S_4 = (request_1_0-> S_5|request_1_1-> S_6|idle_1-> S_4|grant_0_1-> S_0),
S_5 = (grant_1_0-> S_4|grant_0_1-> S_1),S_6 = (grant_1_1-> S_4|grant_0_1-> S_2),S_7 = (grant_1_0-> S_3|grant_0_0-> S_1),
S_8 = (grant_1_1-> S_3|grant_0_0-> S_2).

STRAT_P = S_0,
S_0 = (idle_0-> S_0|idle_1-> S_0|request_0_0-> S_1|request_0_1-> S_2|request_1_0-> S_3|request_1_1-> S_4),
S_1 = (idle_1-> S_1|request_1_0-> S_5|request_1_1-> S_7),S_2 = (idle_1-> S_2|request_1_0-> S_6|request_1_1-> S_8),
S_3 = (idle_0-> S_3|request_0_0-> S_5|request_0_1-> S_6),S_4 = (idle_0-> S_4|request_0_0-> S_7|request_0_1-> S_8),
S_5 = (grant_0_0-> S_31),S_6 = (grant_1_0-> S_9),S_7 = (grant_0_0-> S_32),S_8 = (grant_1_1-> S_10),
S_9 = (idle_1-> S_9|request_1_0-> S_145|request_1_1-> S_271),S_10 = (idle_1-> S_10|request_1_0-> S_335|request_1_1-> S_74),
S_31 = (idle_0-> S_90|request_0_0-> S_92|request_0_1-> S_94),S_32 = (idle_0-> S_163|request_0_0-> S_165|request_0_1-> S_167),
S_74 = (grant_1_1-> S_10),S_90 = (idle_0-> S_90|request_0_0-> S_92|request_0_1-> S_94),
S_92 = (grant_1_0-> S_97),S_94 = (grant_1_0-> S_99),S_97 = (idle_1-> S_97|request_1_0-> S_315|request_1_1-> S_317),
S_99 = (idle_1-> S_99|request_1_0-> S_101|request_1_1-> S_103),S_101 = (grant_1_0-> S_307),
S_103 = (grant_1_1-> S_309),S_145 = (grant_1_0-> S_9),S_163 = (idle_0-> S_163|request_0_0-> S_165|request_0_1-> S_167),
S_165 = (grant_1_1-> S_170),S_167 = (grant_1_1-> S_172),S_170 = (idle_1-> S_170|request_1_0-> S_227|request_1_1-> S_229),
S_172 = (idle_1-> S_172|request_1_0-> S_174|request_1_1-> S_176),S_174 = (grant_1_0-> S_213),S_176 = (grant_1_1-> S_215),
S_213 = (idle_1-> S_213|request_1_0-> S_225|request_1_1-> S_223),S_215 = (idle_1-> S_215|request_1_0-> S_217|request_1_1-> S_176),
S_217 = (grant_1_0-> S_219),S_219 = (idle_1-> S_219|request_1_0-> S_221|request_1_1-> S_223),
S_221 = (grant_1_0-> S_219),S_223 = (grant_1_1-> S_219),S_225 = (grant_1_0-> S_213),S_227 = (grant_1_0-> S_231),S_229 = (grant_1_1-> S_233),
S_231 = (idle_1-> S_231|request_1_0-> S_243|request_1_1-> S_241),S_233 = (idle_1-> S_233|request_1_0-> S_235|request_1_1-> S_229),
S_235 = (grant_1_0-> S_237),S_237 = (idle_1-> S_237|request_1_0-> S_239|request_1_1-> S_241),S_239 = (grant_1_0-> S_237),
S_241 = (grant_1_1-> S_237),S_243 = (grant_1_0-> S_231),S_267 = (grant_1_0-> S_269),S_269 = (idle_1-> S_269|request_1_0-> S_267|request_1_1-> S_270),
S_270 = (grant_1_1-> S_269),S_271 = (grant_1_1-> S_269),S_307 = (idle_1-> S_307|request_1_0-> S_101|request_1_1-> S_313),
S_309 = (idle_1-> S_309|request_1_0-> S_221|request_1_1-> S_311),S_311 = (grant_1_1-> S_309),S_313 = (grant_1_1-> S_219),
S_315 = (grant_1_0-> S_319),S_317 = (grant_1_1-> S_321),S_319 = (idle_1-> S_319|request_1_0-> S_315|request_1_1-> S_325),
S_321 = (idle_1-> S_321|request_1_0-> S_239|request_1_1-> S_323),S_323 = (grant_1_1-> S_321),S_325 = (grant_1_1-> S_237),S_335 = (grant_1_0-> S_269).

SERVERS_C_P = S_0,
S_0 = (request_1_0-> S_1|request_1_1-> S_2|request_0_0-> S_3|<request_0_0,request_1_0>-> S_4|<request_0_0,request_1_1>-> S_5|request_0_1-> S_6|<request_0_1,request_1_0>-> S_7|<request_0_1,request_1_1>-> S_8),
S_1 = (grant_1_0-> S_0|request_0_0-> S_4|<grant_1_0,request_0_0>-> S_3|request_0_1-> S_7|<grant_1_0,request_0_1>-> S_6),
S_2 = (grant_1_1-> S_0|request_0_0-> S_5|<grant_1_1,request_0_0>-> S_3|request_0_1-> S_8|<grant_1_1,request_0_1>-> S_6),
S_3 = (request_1_0-> S_4|request_1_1-> S_5|grant_0_0-> S_0|<grant_0_0,request_1_0>-> S_1|<grant_0_0,request_1_1>-> S_2),
S_4 = (grant_1_0-> S_3|grant_0_0-> S_1|<grant_0_0,grant_1_0>-> S_0),S_5 = (grant_1_1-> S_3|grant_0_0-> S_2|<grant_0_0,grant_1_1>-> S_0),
S_6 = (request_1_0-> S_7|request_1_1-> S_8|grant_0_1-> S_0|<grant_0_1,request_1_0>-> S_1|<grant_0_1,request_1_1>-> S_2),
S_7 = (grant_1_0-> S_6|grant_0_1-> S_1|<grant_0_1,grant_1_0>-> S_0),S_8 = (grant_1_1-> S_6|grant_0_1-> S_2|<grant_0_1,grant_1_1>-> S_0).

equals FATAL_RANGE_7_STRAT(STRAT, STRAT_P).
equals FATAL_RANGE_7_CLIENTS(CLIENTS, CLIENTS_P).
equals FATAL_RANGE_7_SERVERS_C(SERVERS_C, SERVERS_C_P).



